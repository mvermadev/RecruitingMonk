{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { ADD_PROFILE } from '../constants/index';\nexport const fetchProfile = () => dispatch => {\n  var myHeaders = {\n    'authorization': localStorage.token,\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  };\n  var requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n  return fetch(\"https://recmonk.herokuapp.com/current\", requestOptions).then(response => {\n    if (response.ok) {\n      return response;\n    } else {\n      var error = new Error(\"Error \" + response.status + \": \" + response.statusText);\n      error.response = response;\n      throw error;\n    }\n  }, error => {\n    var errmess = new Error(error.message);\n    throw errmess;\n  }).then(response => response.json()).then(data => dispatch(addProfile(data))).catch(error => Swal.fire({\n    icon: 'error',\n    title: 'Oops...',\n    text: error.message\n  }));\n};\nexport const addProfile = data => ({\n  type: ADD_PROFILE,\n  payload: data\n});","map":{"version":3,"sources":["/Users/manishverma/Desktop/Apple/Web/Office/monk2/RecruitingMonk/F-End/src/redux/dataFetchers/ProfileApi.js"],"names":["Swal","ADD_PROFILE","fetchProfile","dispatch","myHeaders","localStorage","token","requestOptions","method","headers","redirect","fetch","then","response","ok","error","Error","status","statusText","errmess","message","json","data","addProfile","catch","fire","icon","title","text","type","payload"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,aAAjB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAOC,QAAD,IAAc;AAE1C,MAAIC,SAAS,GAAI;AACf,qBAAiBC,YAAY,CAACC,KADf;AAEf,cAAW,kBAFI;AAGf,oBAAgB;AAHD,GAAjB;AAMF,MAAIC,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,KADW;AAEnBC,IAAAA,OAAO,EAAEL,SAFU;AAGnBM,IAAAA,QAAQ,EAAE;AAHS,GAArB;AAMA,SAAOC,KAAK,CAAC,uCAAD,EAA0CJ,cAA1C,CAAL,CACFK,IADE,CACGC,QAAQ,IAAI;AACd,QAAGA,QAAQ,CAACC,EAAZ,EAAgB;AACZ,aAAOD,QAAP;AACH,KAFD,MAGK;AACD,UAAIE,KAAK,GAAG,IAAIC,KAAJ,CAAU,WAAWH,QAAQ,CAACI,MAApB,GAA6B,IAA7B,GAAoCJ,QAAQ,CAACK,UAAvD,CAAZ;AACAH,MAAAA,KAAK,CAACF,QAAN,GAAiBA,QAAjB;AACA,YAAME,KAAN;AACH;AACJ,GAVE,EAWHA,KAAK,IAAI;AACL,QAAII,OAAO,GAAG,IAAIH,KAAJ,CAAUD,KAAK,CAACK,OAAhB,CAAd;AACA,UAAMD,OAAN;AACH,GAdE,EAeFP,IAfE,CAeGC,QAAQ,IAAIA,QAAQ,CAACQ,IAAT,EAff,EAgBFT,IAhBE,CAgBGU,IAAI,IAAInB,QAAQ,CAACoB,UAAU,CAACD,IAAD,CAAX,CAhBnB,EAiBFE,KAjBE,CAiBIT,KAAK,IAAIf,IAAI,CAACyB,IAAL,CAAU;AACtBC,IAAAA,IAAI,EAAE,OADgB;AAEtBC,IAAAA,KAAK,EAAE,SAFe;AAGtBC,IAAAA,IAAI,EAAEb,KAAK,CAACK;AAHU,GAAV,CAjBb,CAAP;AAuBH,CArCM;AAuCP,OAAO,MAAMG,UAAU,GAAID,IAAD,KAAW;AACjCO,EAAAA,IAAI,EAAE5B,WAD2B;AAEjC6B,EAAAA,OAAO,EAAER;AAFwB,CAAX,CAAnB","sourcesContent":["import Swal from 'sweetalert2'\nimport { ADD_PROFILE } from '../constants/index'\n\nexport const fetchProfile = () => (dispatch) => {\n\n      var myHeaders = ({\n        'authorization': localStorage.token,\n        'Accept' : 'application/json',\n        'Content-Type': 'application/json'\n    });\n\n    var requestOptions = {\n      method: 'GET',\n      headers: myHeaders,\n      redirect: 'follow'\n    };\n\n    return fetch(\"https://recmonk.herokuapp.com/current\", requestOptions)\n        .then(response => {\n            if(response.ok) {\n                return response;\n            }\n            else {\n                var error = new Error(\"Error \" + response.status + \": \" + response.statusText);\n                error.response = response;\n                throw error;\n            }\n        }, \n        error => {\n            var errmess = new Error(error.message);\n            throw errmess;\n        })\n        .then(response => response.json())\n        .then(data => dispatch(addProfile(data)))\n        .catch(error => Swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: error.message\n          }));\n\n}\n\nexport const addProfile = (data) => ({\n    type: ADD_PROFILE,\n    payload: data\n});"]},"metadata":{},"sourceType":"module"}